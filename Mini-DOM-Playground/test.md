## Техническое задание

**Практический мини-проект “Mini-DOM-Playground”**

### Итоговый результат

Одна статическая страница `index.html` с подключёнными `styles.css` и `app.js`. Никаких фреймворков, сборщиков и сторонних библиотек.

---

### Задача (единый сквозной сценарий)

1. **Инициализация страницы**
   1.1. Скрипт при первой загрузке создаёт в `<body>` однострочный блок-контейнер и внутри него пустой `<ul id="list">`.
   1.2. В `localStorage` должен храниться счётчик посещений (`visits`). Если ключа нет, он инициализируется 1. Счётчик увеличивается на каждую перезагрузку и сразу выводится пользователю через `window.alert`.

2. **Автозаполнение списка**
   2.1. Генерируются пять `<li>` с порядковым номером (текстовое содержимое) и случайным фоном.
   2.2. Ссылка на `ul` сохраняется в глобальной переменной `window.list` (для тренировки работы с `window`).

3. **Панель управления**
   Над списком динамически создаётся `<div id="controls">` с тремя кнопками.

   - _Добавить_ — создаёт в конце списка новый `li`, номер = `children.length + 1`, фон случайный.
   - _Удалить последний_ — снимает последний элемент, если их ≥ 1.
   - _Перемешать_ — случайно переставляет существующие `li`, используя исключительно `append` / `prepend` / `before` / `after`.

4. **Интерактивные элементы списка**
   При клике на любой `li`:

   - фон меняется на новый случайный;
   - размер шрифта увеличивается на 4px и при повторном клике уменьшается на 6px.

5. **Инспектор коллекции**
   Кнопка _Состав списка_ показывает через `alert` строку:
   `“Сейчас  N  элементов: item1, item2, …”`, где N — длина, а имена — тексты элементов.

6. **Навигационные возможности BOM**

   - Кнопка _Push state_ создаёт случайный параметр: `?page=<rand>` через `history.pushState` и выводит `location.href` в `alert`.
   - Кнопка _User-Agent_ выводит `navigator.userAgent` в `alert`.

7. **Метатег для SEO**
   Независимо от редиректа, в `<head>` добавляется

   ```html
   <meta name="description" content="Mini-DOM-Playground training app" />
   ```

   если такого тега ещё нет.

---

### Требования к реализации

- **Только нативные методы** (`querySelector`, `createElement`, `appendChild`, `remove`, `localStorage.*`, …); `innerHTML` не допускается.
- Весь код — в `script.js`, подключён последним тегом `<script>` в конце `<body>`.
- Представление цвета/шрифта жёстко не задаётся в CSS; их динамические значения выставляются через JS.
- Код разбит на функции.
- Глобальные переменные допускаются только для очевидных ссылок (`list`, `redirectState`).
- Нет ошибок в консоли.

---

### Доп

### «Переключатель редиректа + автосрабатывание при ≥ 13 элементах»

| Шаг     | Логика действия                               | Детали реализации                                                                                                                                                                                                                                                                                                                                                                                             |
| ------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1.1** | **Группа радиокнопок “Редирект: вкл / выкл”** | ─ создаётся динамически под списком;<br>─ состояние хранится в `localStorage.redirect = "on"` / `"off"` (см. 6.4).                                                                                                                                                                                                                                                                                            |
| **1.2** | **Добавление / удаление метатега**            | При включении создаётся<br>`<meta id="metaRefresh" http-equiv="refresh" content="10;url=https://example.com">`<br>Выкл — тег с `id="metaRefresh"` удаляется.                                                                                                                                                                                                                                                  |
| **1.3** | **Автовключение при длинном списке**          | Каждый раз, когда длина `ul.children` **становится ≥ 13** (после _Add_ или _Shuffle_), функция `enforceRedirectIfLong()`:<br>1. Проверяет `list.children.length`.<br>2. Если ≥ 13 **и метатега нет** → вставляет его и выставляет `localStorage.redirect = "auto"`.<br>3. Если впоследствии длина снова < 13 **и текущий режим был “auto”** → тег удаляется и `localStorage.redirect` возвращается к `"off"`. |
| **1.4** | **Инициализация при загрузке**                | `initRedirect()`:<br>1. Читает `localStorage.redirect`.<br>2. Значение может быть `"on"`, `"off"`, `"auto"`.<br> \* `"on"` — сразу добавить тег;<br> \* `"off"` — ничего не делать;<br> \* `"auto"` — пересчитать длину списка и вызвать `enforceRedirectIfLong()`.                                                                                                                                           |
| **1.5** | **Приоритет**                                 | Если пользователь вручную выбирает режим **“вкл” / “выкл”**, это значение перекрывает `"auto"` и записывается в `localStorage` как `"on"` или `"off"`. С этого момента автологика (6.3) не вмешивается, пока снова не будет выбрано `"auto"` программно.                                                                                                                                                      |
| **1.6** | **Где вызывать `enforceRedirectIfLong()`**    | ● после каждой операции _Add_, _Delete last_, _Shuffle_;<br>● в `initRedirect()` при загрузке.                                                                                                                                                                                                                                                                                                                |

---

### Критерии зачёта

- Всё перечисленное работает по шагам, состояние редиректа и счётчик визитов сохраняются между перезагрузками.
- DOM-операции видны в DevTools (узлы действительно создаются/удаляются, порядок меняется).
- Метатеги корректно появляются/исчезают.
- Код читабелен, функции названы по смыслу, нет дублирования или “магических” чисел.

[]: # (убрать id у body)
[]: # (убрать лищний див для списка)
[]: # (все что возможно писать через window.)
[]: # (убрать ul -< list)
[]: # (добавить на страницу сначала список затем кнопки)
[]: # (buttonList)
[]: # (при клики на пуш стейт менять параметр)
[]: # (избавиться insertAdjacentHTML)
[]: # (убрать логику листа с контролов)
[]: # (добавить шафл)
[]: # (- fill list)
[]: # (Math.floor(Math.random() \* 16777215).toString(16)) -> на rgb

[]: # (Quantity -> count (в утиль))
[]: # (localStorage только с parse и stringify)
[]: # (отказ!!!!!!!!!! insertAdjacentHTML)
[]: # (вынести функция для цвета)
[]: # (lastChild)
[]: # (element -> event)
[]: # (в мусор функцию changeElementStyle)
[]: # (inspectCollection name)
[]: # (childElementCount)
